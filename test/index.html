<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Exifr tests</title>

	<!-- testing framework -->
	<link  href="../node_modules/mocha/mocha.css" rel="stylesheet" />
	<script src="../node_modules/mocha/mocha.js"></script>
	<!--
		chai isn't yet available as ESM. In Node we're using 'esm' module to wrap it but
		in browser we need to use Require.js version which adds it as global to window object.
	-->
	<script src="../node_modules/chai/chai.js"></script>

	<style>
		@media (prefers-color-scheme: dark) {
			html {
				filter: invert(1) hue-rotate(180deg);
				background: #FFF;
			}
		}
	</style>

</head>
<body>

	These tests are written using bleeding edge specs (es modules & import maps). Make sure you use latest Chrome and have all the proper flags enabled.

	<div id="mocha"></div>

	<div id="temp" style="opacity: 0; width: 0; height: 0; overflow: hidden;"></div>

	<script type="importmap">
	{
		"imports": {
			"chai": "./empty.mjs",
			"path": "./empty.mjs",
			"child_process": "./empty.mjs",
			"util": "./empty.mjs",
			"fs": "./empty.mjs"
		}
	}
	</script>

	<script type="module">
		import './BufferView.spec.mjs'
		import './DynamicBufferView.spec.mjs'
		import './ChunkedReader.spec.mjs'
		import './reader.spec.mjs'
		import './parser.spec.mjs'
		import './options.spec.mjs'
		import './output-format.spec.mjs'
		import './highlevel-gps.spec.mjs'
		import './highlevel-orientation.spec.mjs'
		import './highlevel-thumb.spec.mjs'
		import './tiff.spec.mjs'
		import './jfif.spec.mjs'
		import './icc.spec.mjs'
		import './iptc.spec.mjs'
		import './png.spec.mjs'
		import './xmp-segment.spec.mjs'
		import './xmp-parser-synthetic.spec.mjs'
		import './xmp-parser-fixtures.spec.mjs'
		import './fixtures.spec.mjs'
		import './issues.spec.mjs'
		import './webpack.spec.mjs'
		import './bundles.spec.mjs'
		mocha.run()
	</script>

</body>
</html>